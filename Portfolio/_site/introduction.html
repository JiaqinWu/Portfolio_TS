<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Portfolio – Time Series - Introduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Portfolio – Time Series</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Time Series</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./dv.html" rel="" target="">
 <span class="menu-text">Time Series Data Visualization</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./aboutme.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./introduction.html" rel="" target="" aria-current="page">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_source.html" rel="" target="">
 <span class="menu-text">Data Sources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_viz.html" rel="" target="">
 <span class="menu-text">Data Visualization</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./EDA.html" rel="" target="">
 <span class="menu-text">EDA</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./UT.html" rel="" target="">
 <span class="menu-text">Univariate TS Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./MT.html" rel="" target="">
 <span class="menu-text">Multivariate TS Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./FTS.html" rel="" target="">
 <span class="menu-text">FTS Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./DL.html" rel="" target="">
 <span class="menu-text">DL for Time Series</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./other.html" rel="" target="">
 <span class="menu-text">Other: Interrupted TS/ARFIMA/Spectral Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./conclusions.html" rel="" target="">
 <span class="menu-text">Conclusions</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-dynamics-of-us-covid-19-vaccination-rate-and-its-impact" id="toc-the-dynamics-of-us-covid-19-vaccination-rate-and-its-impact" class="nav-link active" data-scroll-target="#the-dynamics-of-us-covid-19-vaccination-rate-and-its-impact">The Dynamics of US COVID-19 Vaccination Rate and its Impact</a>
  <ul class="collapse">
  <li><a href="#topic-explanation" id="toc-topic-explanation" class="nav-link" data-scroll-target="#topic-explanation">Topic Explanation</a></li>
  <li><a href="#big-picture" id="toc-big-picture" class="nav-link" data-scroll-target="#big-picture">Big Picture</a></li>
  <li><a href="#literature-review" id="toc-literature-review" class="nav-link" data-scroll-target="#literature-review">Literature Review</a></li>
  <li><a href="#analytical-angles" id="toc-analytical-angles" class="nav-link" data-scroll-target="#analytical-angles">Analytical Angles</a></li>
  <li><a href="#guiding-question" id="toc-guiding-question" class="nav-link" data-scroll-target="#guiding-question">Guiding Question</a>
  <ul class="collapse">
  <li><a href="#research-questions" id="toc-research-questions" class="nav-link" data-scroll-target="#research-questions">10 Research Questions:</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="the-dynamics-of-us-covid-19-vaccination-rate-and-its-impact" class="level1">
<h1>The Dynamics of US COVID-19 Vaccination Rate and its Impact</h1>
<section id="topic-explanation" class="level2">
<h2 class="anchored" data-anchor-id="topic-explanation">Topic Explanation</h2>
<p>The emergence of the COVID-19 pandemic marked an unprecedented juncture in human history. As the virus proliferated, nations worldwide found themselves grappling with the need for swift and decisive action to curb its relentless spread. Soon after the outbreak of the pandemic, states in the U.S. began implementing various community mitigation strategies (e.g., mandatory stay at home orders and business closures) to curb the spread of COVID-19. In total, 42 U.S. states and territories issued mandatory stay-at-home orders, covering 73% of U.S. counties. In the United States, a paradigm shift unfolded, compelling individuals and organizations to reevaluate and adapt their daily routines. A notable consequence of this upheaval was the widespread adoption of remote work, a strategic response aimed at mitigating the transmission of the virus while ensuring the continuity of essential services. Internationally, countries like China responded to the crisis by enacting localized policies, effectively delineating geographic boundaries to staunch the virus’s advance. These measures, ranging from city-wide lockdowns to regional containment strategies, reflected the urgency and gravity of the situation. As societies navigated the uncharted territory of a novel and highly infectious pathogen, a collective sense of unfamiliarity and uncertainty permeated daily life. In the face of this existential threat, the global medical community rallied with unparalleled speed and collaboration. Scientific institutions, pharmaceutical companies, and researchers joined forces to develop and deploy effective vaccines.</p>
<p>However, as these vaccines became available, a nuanced narrative unfolded, marked by public skepticism and questions about their efficacy, given that no vaccine could guarantee absolute immunity. This project endeavors to unravel the multifaceted impact of COVID-19 vaccination rates over time, exploring its influence across diverse realms. Beyond the standard metrics of confirmed cases, mortality rates, and hospitalizations caused by COVID-19, the analysis extends its gaze to encompass economic indicators, stock prices, and even political dynamics. The intricacies of vaccine acceptance and its dynamic impact will be dissected through our time series analysis, revealing the social influence shaped by the ongoing vaccination efforts.</p>
<p><img src="Pics/covid.jpg" class="img-fluid"></p>
</section>
<section id="big-picture" class="level2">
<h2 class="anchored" data-anchor-id="big-picture">Big Picture</h2>
<p>In the pursuit of a comprehensive understanding, our research embarks on a meticulous examination of public data sources, seeking to address pivotal questions that encapsulate the intricate interplay between COVID-19 vaccination rates and multifaceted dimensions. Through the lens of data-driven analysis, our endeavor unfolds as a systematic exploration into the evolving dynamics of vaccination and its cascading impact across diverse realms.</p>
<p>One of the central inquiries guiding this investigation is the temporal evolution of COVID-19 vaccination rates and their influence on various sectors. Delving into the data, we seek to discern patterns and shifts in vaccination rates over time, unraveling the nuanced story of how the collective endeavor to immunize populations unfolds. We examine the effectiveness of the vaccine from a quantitative perspective, scrutinizing its role in mitigating the spread of the virus and potentially altering the trajectory of the pandemic.</p>
<p>Hospitalization rates stand as a critical metric in gauging the efficacy of vaccination efforts. We probe into whether the vaccine, by conferring immunity, contributes to alleviating the burden on healthcare systems. Through rigorous data analysis, we aim to illuminate the extent to which vaccination rates correlate with fluctuations in hospitalization numbers, providing valuable insights into the broader public health landscape.</p>
<p>The economic ramifications of COVID-19 vaccination constitute another facet of our exploration. By scrutinizing the data, we seek to ascertain whether higher vaccination rates correspond to economic recovery. Unpacking the intricate relationship between vaccination efforts and economic indicators, our analysis endeavors to shed light on the potential role of vaccination campaigns in fostering economic resilience.</p>
<p>In the financial realm, we examine the impact of vaccination on medical corporations, particularly in the context of stock prices. This inquiry navigates the nexus between vaccination investments and market dynamics, unraveling the intricate dance between public health imperatives and corporate performance.</p>
<p>Beyond these dimensions, our research extends its gaze into the political arena, exploring the relationship between vaccination rates and party support. By dissecting the data, we aim to uncover whether vaccination rates influence political sentiments, offering a nuanced understanding of how public health measures intertwine with political dynamics.</p>
<p><img src="Pics/Mindmap.png" class="img-fluid"></p>
</section>
<section id="literature-review" class="level2">
<h2 class="anchored" data-anchor-id="literature-review">Literature Review</h2>
<p>In the post-pandemic landscape, scholars have delved into comprehensive research on COVID-19 and the ramifications of vaccination, yielding valuable insights. Moghadas et al.&nbsp;(2020) highlight the substantial benefits of COVID-19 vaccines, demonstrating their potential to significantly reduce future infection rates, hospitalizations, and deaths, even with limited protection against infection. Conversely, Barro’s (2022) findings suggest sizable negative effects of vaccination on critical metrics until early December 2021, indicating potential waning efficacy over time.</p>
<p>Further nuanced insights emerge from Guo et al.&nbsp;(2022), indicating complex associations between county-level socioeconomic factors and vaccination rates. Per capita income is negatively linked to vaccination rates in counties with higher proportions of BIPOC individuals, while the unemployment rate shows a negative association in counties with higher proportions of non-Hispanic White individuals.</p>
<p>Khalfaoui et al.&nbsp;(2021) contribute to the literature by revealing a positive and significant influence of COVID-19 vaccination, infection rates, and case fatality ratios on S&amp;P 500 returns at various business cycle frequencies, suggesting an interconnected relationship with financial markets.</p>
<p>Additionally, examining the intersection of vaccination and political dynamics, Galston et al.&nbsp;(2022) reveal a correlation between COVID-19 vaccination rates and party support. States with vaccination rates above the national average predominantly favored Joe Biden in the last November elections, while those below the average leaned towards Donald Trump. The vaccination-rate gap between counties won by Biden and Trump increased significantly, underscoring the evolving political landscape influenced by vaccination trends.</p>
<p><strong>Reference</strong></p>
<ol type="1">
<li><p>Moghadas, S. M., Vilches, T. N., Zhang, K., Wells, C. R., Shoukat, A., Singer, B. H., Meyers, L. A., Neuzil, K. M., Langley, J. M., Fitzpatrick, M. C., &amp; Galvani, A. P. (2021). The impact of vaccination on COVID-19 outbreaks in the United States. medRxiv : the preprint server for health sciences, 2020.11.27.20240051. https://doi.org/10.1101/2020.11.27.20240051</p></li>
<li><p>Galston, W. A., Kamarck, E., West, D. M., &amp; Cecilia Elena Rouse, A. P. (2022, March 9). For covid-19 vaccinations, party affiliation matters more than race and ethnicity. Brookings. https://www.brookings.edu/articles/for-covid-19-vaccinations-party-affiliation-matters-more-than-race-and-ethnicity/</p></li>
<li><p>Guo Y, Kaniuka AR, Gao J, Sims OT. An Epidemiologic Analysis of Associations between County-Level Per Capita Income, Unemployment Rate, and COVID-19 Vaccination Rates in the United States. International Journal of Environmental Research and Public Health. 2022; 19(3):1755. https://doi.org/10.3390/ijerph19031755</p></li>
<li><p>Khalfaoui, R., Nammouri, H., Labidi, O., &amp; Ben Jabeur, S. (2021). Is the COVID-19 vaccine effective on the US financial market? Public Health, 198, 177–179. https://doi.org/10.1016/j.puhe.2021.07.026</p></li>
<li><p>Barro, R. (2022). Vaccination Rates and Covid Outcomes across U.S. States. https://doi.org/10.3386/w29884</p></li>
</ol>
<p><img src="Pics/covid2.jpeg" class="img-fluid"></p>
</section>
<section id="analytical-angles" class="level2">
<h2 class="anchored" data-anchor-id="analytical-angles">Analytical Angles</h2>
<p>Our investigation employs five distinct analytical angles, each offering a unique lens through which we comprehensively address the data science question and navigate the intricate landscape of COVID-19 vaccination dynamics.</p>
<p><strong>1. Temporal Evolution of Vaccination Rates:</strong> We scrutinize patterns and shifts in vaccination rates over time, unraveling the nuanced story of the collective endeavor to immunize populations and its temporal evolution.</p>
<p><strong>2. Impact on Healthcare Systems:</strong> Hospitalization rates stand as a critical metric in gauging the efficacy of vaccination efforts. We probe into whether vaccination, by conferring immunity, contributes to alleviating the burden on healthcare systems.</p>
<p><strong>3. Economic Recovery:</strong> Scrutinizing the economic ramifications of COVID-19 vaccination, we aim to ascertain whether higher vaccination rates correspond to economic recovery, unpacking the intricate relationship between vaccination efforts and economic indicators.</p>
<p><strong>4. Financial Impact:</strong> In the financial realm, we examine the impact of vaccination on medical corporations, particularly in the context of stock prices. This inquiry navigates the nexus between vaccination investments and market dynamics.</p>
<p><strong>5. Political Dynamics:</strong> Our research extends into the political arena, exploring the nexus between vaccination rates and party support. By dissecting the data, we aim to uncover whether vaccination rates influence political sentiments, offering insights into the intersection of public health measures and political dynamics.</p>
<p><img src="Pics/covid1.png" class="img-fluid"></p>
</section>
<section id="guiding-question" class="level2">
<h2 class="anchored" data-anchor-id="guiding-question">Guiding Question</h2>
<section id="research-questions" class="level3">
<h3 class="anchored" data-anchor-id="research-questions">10 Research Questions:</h3>
<ol type="1">
<li><p><strong>How have COVID-19 vaccination rates evolved over time, and what patterns can be discerned?</strong></p></li>
<li><p><strong>To what extent has the vaccine proven effective in mitigating the spread of the virus, and how does this effectiveness manifest quantitatively?</strong></p></li>
<li><p><strong>Does higher vaccination rates correlate with a reduction in hospitalization numbers, contributing to a more resilient healthcare system?</strong></p></li>
<li><p><strong>Can we observe a correlation between vaccination rates and economic recovery, and if so, what are the nuances of this relationship?</strong></p></li>
<li><p><strong>How do vaccination efforts impact the stock prices of medical corporations, and what are the broader financial implications?</strong></p></li>
<li><p><strong>To what extent do vaccination rates influence political sentiments and party support, unveiling the intersection of public health and political dynamics?</strong></p></li>
<li><p><strong>Are there geographical variations in vaccination rates, and how do regional differences impact the overall efficacy of vaccination campaigns?</strong></p></li>
<li><p><strong>How do demographic factors contribute to vaccination disparities, and what are the implications for public health interventions?</strong></p></li>
<li><p><strong>What lessons can be drawn from the global response to COVID-19 vaccination for future pandemics and public health emergencies?</strong></p></li>
<li><p><strong>Can time series analysis and forecasting models predict the future impact of the COVID-19 vaccination in the post-pandemic era?</strong></p></li>
</ol>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>